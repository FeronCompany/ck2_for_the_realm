
#ftr_add_political_influence_decision = {
#	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
#	desc = ftr_add_political_influence_decision_desc
#	selection_tooltip = ftr_add_political_influence_decision_tooltip
#	is_shown = {
#		#is_independent_ruler = yes
#		is_ai = no
#	}
#	cost = {
#		#prestige = { value = 100 }
#	}
#	effect = {
#		ftr_add_political_influence_effect = {
#			VALUE = 100
#		}
#		#save_scope_as = me
#		#ftr_change_realm_political_focus_effect = {
#		#	LIEGE = scope:me
#		#	STARTER = scope:me
#		#	VALUE = 3
#		#}
#	}
#	ai_potential = {
#		always = no
#	}
#}

ftr_pg_ai_expande_influence_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_ai_expande_influence_decision_desc
	selection_tooltip = ftr_pg_ai_expande_influence_decision_tooltip
	ai_check_interval = 24
	is_shown = {
		is_ai = yes
		is_capable_adult = yes
		custom_description = {
			text = "ftr_not_expanded_influence_recently_tt"
			NOT = {
				has_character_flag = ftr_expand_influence_flag
			}
		}
	}
	effect = {
		trigger_event = ftr_pg_ui_event.0001
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 100
	}
}

ftr_pg_ai_change_my_realm_focus_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_ai_change_my_realm_focus_decision_desc
	selection_tooltip = ftr_pg_ai_change_my_realm_focus_decision_tooltip
	ai_check_interval = 24
	is_shown = {
		is_ai = yes
		is_capable_adult = yes
		is_landed = yes
	}
	is_valid = {
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_shift_focus_cost_value
			ftr_political_influence_value >= ftr_shift_focus_cost_value
		}
		custom_description = {
			text = "ftr_not_change_focus_recently_tt"
			NOT = {
				has_character_flag = ftr_change_focus_flag
			}
		}
		custom_description = {
			text = "ftr_not_changing_focus_tt"
			NOT = {
				has_character_flag = ftr_changing_focus_flag
			}
		}
	}

	effect = {
		trigger_event = ftr_pg_ui_event.0002
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 20
		modifier = {
			add = 30
			exists = var:ftr_pg_focus
			var:ftr_pg_focus = 1
		}
	}
}

ftr_pg_ai_change_liege_realm_focus_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_ai_change_liege_realm_focus_decision_desc
	selection_tooltip = ftr_pg_ai_change_liege_realm_focus_decision_tooltip
	ai_check_interval = 36
	is_shown = {
		is_ai = yes
		is_capable_adult = yes
		is_independent_ruler = no
	}
	is_valid = {
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_shift_focus_cost_value
			ftr_political_influence_value >= ftr_shift_focus_cost_value
		}
		custom_description = {
			text = "ftr_not_change_focus_recently_tt"
			NOT = {
				has_character_flag = ftr_change_focus_flag
			}
		}
		custom_description = {
			text = "ftr_liege_not_changing_focus_tt"
			liege = {
				NOT = {
					has_character_flag = ftr_changing_focus_flag
				}
			}
		}
	}

	effect = {
		trigger_event = ftr_pg_ui_event.0005
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 33
	}
}

ftr_pg_ai_make_own_proposal_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_ai_make_own_proposal_decision_desc
	selection_tooltip = ftr_pg_ai_make_own_proposal_decision_tooltip
	ai_check_interval = 24
	is_shown = {
		is_ai = yes
		is_capable_adult = yes
		is_landed = yes
	}
	is_valid = {
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_make_pg_proposal_cost_value
			ftr_political_influence_value >= ftr_make_pg_proposal_cost_value
		}
		custom_description = {
			text = "ftr_not_make_proposal_recently_tt"
			NOT = {
				has_character_flag = ftr_make_proposal_flag
			}
		}
		custom_description = {
			text = "ftr_not_considering_proposal_tt"
			NOT = {
				AND = {
					exists = var:ftr_proposal_type
					var:ftr_proposal_type > 0
				}
			}
		}
		custom_description = {
			text = "ftr_have_set_own_realm_focus_tt"
			exists = var:ftr_pg_focus
		}
	}

	effect = {
		save_scope_as = starter
		save_scope_as = liege_c
		trigger_event = ftr_pg_ui_event.0100
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 33
	}
}

ftr_pg_ai_make_proposal_to_liege_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_ai_make_proposal_to_liege_decision_desc
	selection_tooltip = ftr_pg_ai_make_proposal_to_liege_decision_tooltip
	ai_check_interval = 24
	is_shown = {
		is_ai = yes
		is_capable_adult = yes
		is_independent_ruler = no
	}
	is_valid = {
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_make_pg_proposal_cost_value
			ftr_political_influence_value >= ftr_make_pg_proposal_cost_value
		}
		custom_description = {
			text = "ftr_not_make_proposal_recently_tt"
			NOT = {
				has_character_flag = ftr_make_proposal_flag
			}
		}
		custom_description = {
			text = "ftr_liege_not_considering_proposal_tt"
			liege = {
				NOT = {
					AND = {
						exists = var:ftr_proposal_type
						var:ftr_proposal_type > 0
					}
				}
			}
		}
		custom_description = {
			text = "ftr_have_set_liege_realm_focus_tt"
			liege = { exists = var:ftr_pg_focus }
		}
	}

	effect = {
		save_scope_as = starter
		liege = {
			save_scope_as = liege_c
		}
		trigger_event = ftr_pg_ui_event.0100
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 33
	}
}

ftr_pg_my_proposal_vote_yes_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_my_proposal_vote_yes_decision_desc
	selection_tooltip = ftr_pg_my_proposal_vote_yes_decision_tooltip
	ai_check_interval = 2
	is_shown = {
		is_ai = yes
	}
	is_valid = {
		is_capable_adult = yes
		custom_description = {
			text = "ftr_my_realm_has_valid_proposal_tt"
			exists = var:ftr_proposal_type
			var:ftr_proposal_type > 0
		}
		custom_description = {
			text = "ftr_my_realm_not_vote_yes_tt"
			trigger_if = {
				limit = { exists = var:ftr_my_proposal_attitude }
				NOT = { var:ftr_my_proposal_attitude = 1 }
			}
		}
		custom_description = {
			text = "ftr_my_realm_not_change_attitude_tt"
			NOT = {
				has_character_flag = ftr_change_my_proposal_attitude_flag
			}
		}
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_vote_proposal_cost_value
			ftr_political_influence_value >= ftr_vote_proposal_cost_value
		}
	}

	effect = {
		set_variable = {
			name = ftr_my_proposal_attitude
			value = 1 # 赞成
		}
		add_character_flag = {
			flag = ftr_change_my_proposal_attitude_flag
			days = 30
		}
		ftr_add_political_influence_effect = {
			VALUE = ftr_vote_proposal_modify_value
		}
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 0
		# modifier for Expand Crown Authority
		modifier = {
			add = 100 # As liege, of course support
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 1
		}
		# modifier for Weaken Crown Authority
		modifier = {
			add = -100 # As liege, don't like it
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 2
		}
		# modifier for Purge Heresy
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 3
			has_trait = zealous
		}
		# modifier for Religious Tolerance
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 4
			has_trait = cynical
		}
		# modifier for War Tax
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 5
			OR = {
				has_trait = greedy
				gold < 500
			}
		}
	}
}

ftr_pg_my_proposal_vote_no_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_my_proposal_vote_no_decision_desc
	selection_tooltip = ftr_pg_my_proposal_vote_no_decision_tooltip
	ai_check_interval = 2
	is_shown = {
		is_ai = yes
	}
	is_valid = {
		is_capable_adult = yes
		custom_description = {
			text = "ftr_my_realm_has_valid_proposal_tt"
			exists = var:ftr_proposal_type
			var:ftr_proposal_type > 0
		}
		custom_description = {
			text = "ftr_my_realm_not_vote_no_tt"
			trigger_if = {
				limit = { exists = var:ftr_my_proposal_attitude }
				NOT = { var:ftr_my_proposal_attitude = 2 }
			}
		}
		custom_description = {
			text = "ftr_my_realm_not_change_attitude_tt"
			NOT = {
				has_character_flag = ftr_change_my_proposal_attitude_flag
			}
		}
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_vote_proposal_cost_value
			ftr_political_influence_value >= ftr_vote_proposal_cost_value
		}
	}

	effect = {
		set_variable = {
			name = ftr_my_proposal_attitude
			value = 2
		}
		add_character_flag = {
			flag = ftr_change_my_proposal_attitude_flag
			days = 30
		}
		ftr_add_political_influence_effect = {
			VALUE = ftr_vote_proposal_modify_value
		}
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 33
		# modifier for Religious Tolerance
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 4
			has_trait = zealous
		}
		# modifier for War Tax
		modifier = {
			add = -33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 5
			gold > 2000
		}
	}
}

ftr_pg_my_proposal_vote_abstain_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_my_proposal_vote_abstain_decision_desc
	selection_tooltip = ftr_pg_my_proposal_vote_abstain_decision_tooltip
	ai_check_interval = 2
	is_shown = {
		is_ai = yes
	}
	is_valid = {
		is_capable_adult = yes
		custom_description = {
			text = "ftr_my_realm_has_valid_proposal_tt"
			exists = var:ftr_proposal_type
			var:ftr_proposal_type > 0
		}
		custom_description = {
			text = "ftr_my_realm_not_vote_abstain_tt"
			trigger_if = {
				limit = { exists = var:ftr_my_proposal_attitude }
				NOT = { var:ftr_my_proposal_attitude = 3 }
			}
		}
		custom_description = {
			text = "ftr_my_realm_not_change_attitude_tt"
			NOT = {
				has_character_flag = ftr_change_my_proposal_attitude_flag
			}
		}
	}

	effect = {
		set_variable = {
			name = ftr_my_proposal_attitude
			value = 3
		}
		add_character_flag = {
			flag = ftr_change_my_proposal_attitude_flag
			days = 30
		}
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 33
		# modifier for Weaken Crown Authority
		modifier = {
			add = -100 # As liege, don't like it
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 2
		}
	}
}

ftr_pg_liege_proposal_vote_yes_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_liege_proposal_vote_yes_decision_desc
	selection_tooltip = ftr_pg_liege_proposal_vote_yes_decision_tooltip
	ai_check_interval = 2
	is_shown = {
		is_ai = yes
		is_independent_ruler = no
	}
	is_valid = {
		is_capable_adult = yes
		custom_description = {
			text = "ftr_is_inner_circle_member_of_liege_tt"
			ftr_powerful_subject_trigger = yes
		}
		custom_description = {
			text = "ftr_liege_realm_has_valid_proposal_tt"
			liege = {
				exists = var:ftr_proposal_type
				var:ftr_proposal_type > 0
			}
		}
		custom_description = {
			text = "ftr_liege_realm_not_vote_yes_tt"
			trigger_if = {
				limit = { exists = var:ftr_liege_proposal_attitude }
				NOT = { var:ftr_liege_proposal_attitude = 1 }
			}
		}
		custom_description = {
			text = "ftr_liege_realm_not_change_attitude_tt"
			NOT = {
				has_character_flag = ftr_change_liege_proposal_attitude_flag
			}
		}
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_vote_proposal_cost_value
			ftr_political_influence_value >= ftr_vote_proposal_cost_value
		}
	}

	effect = {
		set_variable = {
			name = ftr_liege_proposal_attitude
			value = 1 # 赞成
		}
		add_character_flag = {
			flag = ftr_change_liege_proposal_attitude_flag
			days = 30
		}
		ftr_add_political_influence_effect = {
			VALUE = ftr_vote_proposal_modify_value
		}
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 0
		# modifier for Expand Crown Authority
		modifier = {
			add = 33
			liege = {
				exists = var:ftr_proposal_type
				var:ftr_proposal_type = 1
				OR = {
					has_realm_law = crown_authority_0
					has_realm_law = crown_authority_1
					has_realm_law = tribal_authority_0
					has_realm_law = tribal_authority_1
				}
			}
			opinion = {
				target = liege
				value >= 90
			}
		}
		# modifier for Weaken Crown Authority
		modifier = {
			add = 33
			liege = {
				exists = var:ftr_proposal_type
				var:ftr_proposal_type = 2
				OR = {
					has_realm_law = crown_authority_2
					has_realm_law = crown_authority_3
					has_realm_law = tribal_authority_2
					has_realm_law = tribal_authority_3
				}
			}
			opinion = {
				target = scope:liege_c
				value < 60
			}
		}
		# modifier for Purge Heresy
		modifier = {
			add = 20
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 3
			has_trait = zealous
			faith = liege.faith
		}
		# modifier for Religious Tolerance
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 4
			NOT = { faith = liege.faith }
		}
		# modifier for War Tax
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 5
			gold > 200
			liege = {
				gold < 500
				is_at_war = yes
			}
			opinion = {
				target = liege
				value >= 40
			}
		}
	}
}

ftr_pg_liege_proposal_vote_no_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_liege_proposal_vote_no_decision_desc
	selection_tooltip = ftr_pg_liege_proposal_vote_no_decision_tooltip
	ai_check_interval = 2
	is_shown = {
		is_ai = yes
		is_independent_ruler = no
	}
	is_valid = {
		is_capable_adult = yes
		custom_description = {
			text = "ftr_is_inner_circle_member_of_liege_tt"
			ftr_powerful_subject_trigger = yes
		}
		custom_description = {
			text = "ftr_liege_realm_has_valid_proposal_tt"
			liege = {
				exists = var:ftr_proposal_type
				var:ftr_proposal_type > 0
			}
		}
		custom_description = {
			text = "ftr_liege_realm_not_vote_no_tt"
			trigger_if = {
				limit = { exists = var:ftr_liege_proposal_attitude }
				NOT = { var:ftr_liege_proposal_attitude = 2 }
			}
		}
		custom_description = {
			text = "ftr_liege_realm_not_change_attitude_tt"
			NOT = {
				has_character_flag = ftr_change_liege_proposal_attitude_flag
			}
		}
		custom_description = {
			text = "ftr_have_enough_pi_tt"
			value = ftr_vote_proposal_cost_value
			ftr_political_influence_value >= ftr_vote_proposal_cost_value
		}
	}

	effect = {
		set_variable = {
			name = ftr_liege_proposal_attitude
			value = 2
		}
		add_character_flag = {
			flag = ftr_change_liege_proposal_attitude_flag
			days = 30
		}
		ftr_add_political_influence_effect = {
			VALUE = ftr_vote_proposal_modify_value
		}
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 0
		# modifier for Expand Crown Authority
		modifier = {
			add = 33
			liege = {
				exists = var:ftr_proposal_type
				var:ftr_proposal_type = 1
				OR = {
					has_realm_law = crown_authority_3
					has_realm_law = tribal_authority_3
				}
			}
			opinion = {
				target = liege
				value < 70
			}
		}
		# modifier for Religious Tolerance
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 4
			has_trait = zealous
			faith = liege.faith
		}
		# modifier for War Tax
		modifier = {
			add = 33
			exists = var:ftr_proposal_type
			var:ftr_proposal_type = 5
			OR = {
				gold <= 100
				liege = {
					gold >= 500
				}
				opinion = {
					target = liege
					value < 40
				}
			}
		}
	}
}

ftr_pg_liege_proposal_vote_abstain_decision = {
	picture = "gfx/interface/illustrations/decisions/decision_realm.dds"
	desc = ftr_pg_liege_proposal_vote_abstain_decision_desc
	selection_tooltip = ftr_pg_liege_proposal_vote_abstain_decision_tooltip
	ai_check_interval = 2
	is_shown = {
		is_ai = yes
		is_independent_ruler = no
	}
	is_valid = {
		is_capable_adult = yes
		custom_description = {
			text = "ftr_is_inner_circle_member_of_liege_tt"
			ftr_powerful_subject_trigger = yes
		}
		custom_description = {
			text = "ftr_liege_realm_has_valid_proposal_tt"
			liege = {
				exists = var:ftr_proposal_type
				var:ftr_proposal_type > 0
			}
		}
		custom_description = {
			text = "ftr_liege_realm_not_abstain_no_tt"
			trigger_if = {
				limit = { exists = var:ftr_liege_proposal_attitude }
				NOT = { var:ftr_liege_proposal_attitude = 3 }
			}
		}
		custom_description = {
			text = "ftr_liege_realm_not_change_attitude_tt"
			NOT = {
				has_character_flag = ftr_change_liege_proposal_attitude_flag
			}
		}
	}

	effect = {
		set_variable = {
			name = ftr_liege_proposal_attitude
			value = 3
		}
		add_character_flag = {
			flag = ftr_change_liege_proposal_attitude_flag
			days = 30
		}
	}
	ai_potential = {
		always = yes
	}
	ai_will_do = {
		base = 33
	}
}
